%%% Packages

%% Math enhancements

\usepackage{amsmath} % Misc enhancements to math equations
\usepackage{cancel} % Draw diagonal lines and arrows in math equations
\usepackage{mathtools} % Starred versions of amsmath matrix environments; Multiline, cases, gathered environment

%% Sybmols 

\usepackage{amssymb} % Extended symbol collection - also loads amsfonts
\usepackage{stmaryrd} % Extra symbols

%% Fonts

\usepackage{mathrsfs} % Support \mathcal and \mathscr
\usepackage{steinmetz} % Electronics notation

%% Environments 

\usepackage{amsthm} % Use theorems

%% Tables and arrays

\usepackage{booktabs} % Top and bottom rule for tabular
\usepackage{tabularx} % Advanced Tables

%% Lists

\usepackage{enumitem} % Itemize, enumerate, description environments

%% Page layout

\usepackage{fancyhdr} % Page headers and footers
\usepackage{float} % Float objects such as figures and tables
\usepackage{geometry} % Page layout customisation
\usepackage{marginnote} % Add text in margins

%% Text enhancements

\usepackage[none]{hyphenat} % Disable hyphenation of long text
\usepackage{ragged2e} % Text alignment options

%% Referencing

\usepackage{tocbibind} % Adds bibliography to the Table of Contents
\usepackage{url} % Define urls

%% Graphics

\usepackage{graphicx} % Extension to graphics 
\graphicspath{ {./figures/} }

%% Miscellaneous

\usepackage{listings} % Typeset programming code 
\usepackage{siunitx} % SI units package
\usepackage{physics} % Vectors/derivatives/operators
\usepackage{pdfpages} % Import PDFs into document

\usepackage[hidelinks]{hyperref} % Handle cross-referencing
\usepackage{bookmark} % New bookmark organisation for hyperref

%% Unicode setup

\usepackage[warnings-off={mathtools-colon, mathtools-overbracket}]{unicode-math}
\setmathfont{Latin Modern Math}
\setmathfont[range={bb, bbit}, Scale=MatchUppercase]{TeX Gyre Pagella Math}
\setmathfont[range={\mathcal, \mathbfcal}, StylisticSet=1]{XITS Math}
\setmathfont[range={"2205}]{XITS Math}

%%% Preamble 

%% Misc Commands

\newcommand{\e}{e}
\let\exp\relax
\DeclareMathOperator{\exp}{exp}

\let\varnothing\relax
\newcommand{\varnothing}{\char"2205}

\newcommand*{\vertbar}{\rule[-1ex]{0.5pt}{2.5ex}}
\newcommand*{\horzbar}{\rule[.5ex]{2.5ex}{0.5pt}}

%% Paired Delimiters

\DeclarePairedDelimiter\ceil{\lceil}{\rceil}
\DeclarePairedDelimiter\floor{\lfloor}{\rfloor}
\DeclarePairedDelimiter\avec{\langle}{\rangle}

%% Probability Functions

\let\Pr\relax
\DeclareMathOperator{\Pr}{Pr}
\DeclareMathOperator{\E}{E}
\DeclareMathOperator{\Var}{Var}
\DeclareMathOperator{\Cov}{Cov}
\DeclareMathOperator{\Corr}{Corr}

%% Hyperbolic Functions

\DeclareMathOperator{\arcsinh}{arcsinh}
\DeclareMathOperator{\arccosh}{arccosh}
\DeclareMathOperator{\arctanh}{arctanh}
\DeclareMathOperator{\arccoth}{arccoth}
\DeclareMathOperator{\arcsech}{arcsech}
\DeclareMathOperator{\arccsch}{arccsch}

%% Linear Algebra

\let\det\relax
\DeclareMathOperator{\det}{det}
\let\tr\relax
\DeclareMathOperator{\tr}{Tr}
\DeclareMathOperator{\diag}{diag}
\DeclareMathOperator{\adj}{adj}

\DeclareMathOperator{\vref}{ref}
\DeclareMathOperator{\vrref}{rref}

\DeclareMathOperator{\vnull}{null}

\DeclareMathOperator{\proj}{proj}

\DeclareMathOperator{\vim}{im}
\DeclareMathOperator{\vcoim}{coim}
\DeclareMathOperator{\vker}{ker}
\DeclareMathOperator{\vcoker}{coker}

\newcommand{\columnspace}[1]{\mathcal{C}\left(\symbfit{#1}\right)}
\newcommand{\rowspace}[1]{\mathcal{C}\left(\symbfit{#1}^{\top}\right)}
\newcommand{\nullspace}[1]{\mathcal{N}\left(\symbfit{#1}\right)}
\newcommand{\leftnullspace}[1]{\mathcal{N}\left(\symbfit{#1}^{\top}\right)}

%% Laplace Transform

\newcommand{\laplace}[1]{\char"2112 \left\{{#1}\right\}}

%% Fourier Transform

\newcommand{\fourier}[1]{\char"2131 \left\{{#1}\right\}}

%% Theorems

\theoremstyle{definition}
\newtheorem{definition}{Definition}[subsection]

\theoremstyle{plain}
\newtheorem{theorem}{Theorem}[subsection]
\newtheorem{corollary}{Corollary}[theorem]

\newtheorem{axiom}{Axiom}
\newtheorem{remark}{Remark}

\newenvironment{solution}[1][Solution]{\proof[#1]\mbox{}\\*}{\endproof}
\newenvironment{solutionF}[1][Solution]{\proof[#1]\mbox{}}{\endproof}

\newenvironment{proofcase}[1]{\proof[Case #1]\mbox{}}{\endproof}